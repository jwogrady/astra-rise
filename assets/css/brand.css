/**
 * Rise Local Brand CSS Variables and Styles
 * Optimized for performance and maintainability
 */

:root {
  /* Primary Brand Colors (Black, White, Gray) */
  --rise-black: #000000;
  --rise-white: #ffffff;
  --rise-gray: #6b7280; /* modern neutral */
  
  /* Primary Brand Blue (brighter, modern) */
  --rise-blue: #3b82f6; /* vibrant blue */
  
  /* Enhanced UI Colors */
  --rise-blue-dark: #1e40af; /* deep blue */
  --rise-blue-light: #93c5fd; /* light blue */
  --rise-background: #f8fafc; /* softer background */
  --rise-orange-accent: #ffb457; /* refreshed accent */
  
  /* Typography - Rise Local Brand Specification */
  --rise-font-headline: "Montserrat", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --rise-font-body: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; /* modern readable body */
  --rise-font-accent: "Permanent Marker", cursive, sans-serif;
  
  /* Typography Weights */
  --rise-weight-thin: 100;
  --rise-weight-extra-light: 200;
  --rise-weight-regular: 400;
  --rise-weight-semi-bold: 600;
  --rise-weight-extra-bold: 800;
  
  /* Typography Scale - Headlines (50pt+) */
  --rise-text-headline-xl: 4.5rem;    /* ~72pt */
  --rise-text-headline-lg: 4rem;      /* ~64pt */
  --rise-text-headline-md: 3.5rem;    /* ~56pt */
  --rise-text-headline-sm: 3.125rem;  /* ~50pt */
  
  /* Typography Scale - Body/Supporting (40pt and below) */
  --rise-text-body-xl: 2.5rem;        /* ~40pt */
  --rise-text-body-lg: 1.5rem;        /* ~24pt */
  --rise-text-body-md: 1.125rem;      /* ~18pt */
  --rise-text-body-sm: 1rem;          /* ~16pt */
  --rise-text-body-xs: 0.875rem;      /* ~14pt */
  
  /* Line Heights */
  --rise-leading-tight: 1.1;
  --rise-leading-normal: 1.3;
  --rise-leading-relaxed: 1.6;
  
  /* Brand Gradients */
  --rise-gradient-blue: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
  --rise-gradient-professional: linear-gradient(135deg, #000000 0%, #6b7280 100%);
  --rise-gradient-accent: linear-gradient(135deg, #3b82f6 0%, #ffb457 100%);
  
  /* UI Elements */
  --rise-border-radius: 8px;
  --rise-box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --rise-box-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  
  /* Spacing System */
  --rise-space-xs: 0.5rem;
  --rise-space-sm: 1rem;
  --rise-space-md: 1.5rem;
  --rise-space-lg: 2rem;
  --rise-space-xl: 3rem;
  --rise-space-2xl: 4rem;
}

/* Typography Implementation - Headlines (50pt+) */
h1 {
  font-family: var(--rise-font-headline);
  font-size: var(--rise-text-headline-xl);
  font-weight: var(--rise-weight-extra-bold);
  line-height: var(--rise-leading-tight);
  color: var(--rise-black);
  margin-bottom: var(--rise-space-lg);
}

h2 {
  font-family: var(--rise-font-headline);
  font-size: var(--rise-text-headline-lg);
  font-weight: var(--rise-weight-semi-bold);
  line-height: var(--rise-leading-tight);
  color: var(--rise-black);
  margin-bottom: var(--rise-space-md);
}

h3 {
  font-family: var(--rise-font-headline);
  font-size: var(--rise-text-headline-md);
  font-weight: var(--rise-weight-regular);
  line-height: var(--rise-leading-normal);
  color: var(--rise-black);
  margin-bottom: var(--rise-space-md);
}

h4 {
  font-family: var(--rise-font-headline);
  font-size: var(--rise-text-headline-sm);
  font-weight: var(--rise-weight-semi-bold);
  line-height: var(--rise-leading-normal);
  color: var(--rise-black);
  margin-bottom: var(--rise-space-sm);
}

h5, h6 {
  font-family: var(--rise-font-headline);
  font-size: var(--rise-text-body-xl);
  font-weight: var(--rise-weight-regular);
  line-height: var(--rise-leading-normal);
  color: var(--rise-black);
  margin-bottom: var(--rise-space-sm);
}

/* Body Typography (40pt and below) */
body, p, li, span, div {
  font-family: var(--rise-font-body);
  font-size: var(--rise-text-body-sm);
  font-weight: var(--rise-weight-regular);
  line-height: var(--rise-leading-relaxed);
  color: var(--rise-black);
}

/* Large body text */
.rise-text-large, .has-large-font-size {
  font-size: var(--rise-text-body-lg);
  font-weight: var(--rise-weight-extra-light);
  line-height: var(--rise-leading-normal);
}

/* Accent/Branding Typography - Permanent Marker */
.rise-accent-text, .rise-brand-accent {
  font-family: var(--rise-font-accent);
  color: var(--rise-blue);
  font-weight: var(--rise-weight-regular);
  line-height: var(--rise-leading-normal);
}

/* Links */
a {
  font-family: var(--rise-font-body);
  color: var(--rise-blue);
  text-decoration: none;
  transition: color 0.2s ease;
}

a:hover {
  color: var(--rise-blue-dark);
}

/* Button Typography */
.wp-block-button__link, button, input[type="submit"] {
  font-family: var(--rise-font-headline);
  font-weight: var(--rise-weight-semi-bold);
  font-size: var(--rise-text-body-md);
  border-radius: var(--rise-border-radius);
  transition: all 0.2s ease;
}

.wp-block-button__link:hover {
  transform: translateY(-1px);
  box-shadow: var(--rise-box-shadow-lg);
}

/* Rise Local specific styling */
.rise-local-theme .wp-block-cover {
  border-radius: var(--rise-border-radius);
}

.rise-service-card {
  box-shadow: var(--rise-box-shadow);
  transition: all 0.3s ease;
}

.rise-service-card:hover {
  box-shadow: var(--rise-box-shadow-lg);
  transform: translateY(-2px);
}

/* Responsive Typography */
@media (max-width: 768px) {
  h1 { font-size: var(--rise-text-headline-lg); }
  h2 { font-size: var(--rise-text-headline-md); }
  h3 { font-size: var(--rise-text-headline-sm); }
  h4 { font-size: var(--rise-text-body-xl); }
}

@media (max-width: 480px) {
  h1 { font-size: var(--rise-text-headline-md); }
  h2 { font-size: var(--rise-text-headline-sm); }
  h3 { font-size: var(--rise-text-body-xl); }
  h4 { font-size: var(--rise-text-body-lg); }
}

/* Contrast safety: avoid black text on dark backgrounds */
/* Treat black/brand-blue/gradient/cover backgrounds as dark and force light foregrounds */
.has-rise-black-background-color,
.has-rise-blue-background-color,
.has-rise-blue-gradient-background,
.has-rise-professional-gradient-background,
.wp-block-cover.has-background,
.rise-hero-section,
[class*="has-background"][style*="#000"],
[class*="has-background"][style*="rgb(0, 0, 0)"],
[class*="has-background"][style*="#3b82f6"],
[class*="has-background"][style*="rgb(59, 130, 246)"] {
  color: var(--rise-white);
}

/* Headings and body text inside dark sections */
.has-rise-black-background-color :is(h1,h2,h3,h4,h5,h6,p,li,span,div),
.has-rise-blue-background-color :is(h1,h2,h3,h4,h5,h6,p,li,span,div),
.has-rise-blue-gradient-background :is(h1,h2,h3,h4,h5,h6,p,li,span,div),
.has-rise-professional-gradient-background :is(h1,h2,h3,h4,h5,h6,p,li,span,div),
.wp-block-cover.has-background :is(h1,h2,h3,h4,h5,h6,p,li,span,div),
.rise-hero-section :is(h1,h2,h3,h4,h5,h6,p,li,span,div) {
  color: var(--rise-white);
}

/* Links inside dark sections */
.has-rise-black-background-color a,
.has-rise-blue-background-color a,
.has-rise-blue-gradient-background a,
.has-rise-professional-gradient-background a,
.wp-block-cover.has-background a,
.rise-hero-section a {
  color: var(--rise-white);
  text-decoration: underline;
}

.has-rise-black-background-color a:hover,
.has-rise-blue-background-color a:hover,
.has-rise-blue-gradient-background a:hover,
.has-rise-professional-gradient-background a:hover,
.wp-block-cover.has-background a:hover,
.rise-hero-section a:hover {
  color: #f0f4ff;
}

/* Buttons inside dark sections (when not given an explicit background) */
.has-rise-black-background-color .wp-block-button__link:not(.has-background),
.has-rise-blue-background-color .wp-block-button__link:not(.has-background),
.has-rise-blue-gradient-background .wp-block-button__link:not(.has-background),
.has-rise-professional-gradient-background .wp-block-button__link:not(.has-background),
.wp-block-cover.has-background .wp-block-button__link:not(.has-background),
.rise-hero-section .wp-block-button__link:not(.has-background) {
  background: transparent;
  border: 2px solid var(--rise-white);
  color: var(--rise-white);
}

/* Utility: ensure captions and small text also flip to light */
.has-rise-black-background-color :is(figcaption,small),
.has-rise-blue-background-color :is(figcaption,small),
.has-rise-blue-gradient-background :is(figcaption,small),
.has-rise-professional-gradient-background :is(figcaption,small),
.wp-block-cover.has-background :is(figcaption,small) {
  color: #f7f9ff;
}

/* Navigation contrast: handle dark headers and transparent headers */
/* Transparent header over dark hero */
.ast-theme-transparent-header .ast-builder-menu .menu-link,
.ast-theme-transparent-header .main-header-menu > .menu-item > a,
.ast-theme-transparent-header .site-title a,
.ast-theme-transparent-header .site-description,
.ast-theme-transparent-header .menu-toggle,
.ast-theme-transparent-header .ast-mobile-menu-trigger-minimal {
  color: var(--rise-white);
}
.ast-theme-transparent-header .main-header-menu > .menu-item > a:hover,
.ast-theme-transparent-header .ast-builder-menu .menu-link:hover {
  color: #f0f4ff;
}

/* Header bar flagged as dark (set dynamically or by class) */
.main-header-bar.is-dark .main-header-menu > .menu-item > a,
.main-header-bar.is-dark .ast-builder-menu .menu-link,
.main-header-bar.is-dark .site-title a,
.main-header-bar.is-dark .site-description,
.main-header-bar.is-dark .menu-toggle,
.ast-primary-header-bar.is-dark .main-header-menu > .menu-item > a,
.ast-primary-header-bar.is-dark .ast-builder-menu .menu-link,
.ast-primary-header_bar.is-dark .site-title a,
.ast-primary_header_bar.is-dark .site-description,
.ast_primary_header_bar.is-dark .menu-toggle {
  color: var(--rise-white);
}
.main-header-bar.is-dark .main-header-menu > .menu-item > a:hover,
.main-header-bar.is-dark .ast-builder-menu .menu-link:hover,
.ast-primary-header-bar.is-dark .main-header-menu > .menu-item > a:hover,
.ast-primary-header-bar.is-dark .ast-builder-menu .menu-link:hover {
  color: #f0f4ff;
}

/* Mobile menu toggle border/icon visibility on dark headers */
.main-header-bar.is-dark .ast-mobile-menu-trigger-minimal,
.ast-primary-header_bar.is-dark .ast-mobile-menu-trigger-minimal {
  color: var(--rise-white);
}

/* Heuristic: if header inline style sets brand black/blue, treat as dark */
.main-header-bar[style*="#000"],
.main-header-bar[style*="rgb(0, 0, 0)"],
.main-header-bar[style*="#3b82f6"],
.main-header-bar[style*="rgb(59, 130, 246)"],
.ast-primary-header-bar[style*="#000"],
.ast-primary-header-bar[style*="rgb(0, 0, 0)"],
.ast-primary-header-bar[style*="#3b82f6"],
.ast_primary_header_bar[style*="rgb(59, 130, 246)"] {
  color: var(--rise-white);
}
.main-header-bar[style*="#000"] .main-header-menu > .menu-item > a,
.main-header-bar[style*="#3b82f6"] .main-header-menu > .menu-item > a,
.ast-primary-header-bar[style*="#000"] .main-header-menu > .menu-item > a,
.ast-primary-header-bar[style*="#3b82f6"] .main-header-menu > .menu-item > a {
  color: var(--rise-white);
}